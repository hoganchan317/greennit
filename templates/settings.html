<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <title>设置 - Greennit</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
<div class="max-w-6xl mx-auto px-4 py-8">

  {% include "_navbar.html" %}

  <h1 class="text-2xl font-bold mb-6">账户设置</h1>

  <!-- 基本信息 -->
  <section class="mb-8">
    <h2 class="text-lg font-semibold mb-3">基本信息</h2>
    <div class="bg-slate-800/80 rounded-xl p-4 space-y-2 text-sm">
      <p><span class="text-slate-400">用户ID：</span>{{ user_id }}</p>
      <p>
        <span class="text-slate-400">权限：</span>
        {% if is_admin %}
          <span class="text-amber-300">管理员</span>
        {% else %}
          普通用户
        {% endif %}
      </p>
      <p>
        <span class="text-slate-400">状态：</span>
        {% if is_banned %}
          <span class="text-red-400">已被封禁（仅供调试显示）</span>
        {% else %}
          <span class="text-emerald-400">正常</span>
        {% endif %}
      </p>
      <p class="mt-2">
        <a href="/user/{{ username }}" class="text-sky-400 hover:underline">
          查看我的主页 →
        </a>
      </p>
      <p>
        <a href="/notifications" class="text-sky-400 hover:underline">
          查看我的通知 →
        </a>
      </p>
      <p>
        <a href="/settings/sessions" class="block px-4 py-3 rounded bg-slate-800 hover:bg-slate-700">
          🔐 会话管理 - 查看登录的设备
        </a>
      </p>
    </div>
  </section>

  <!-- 我的内容 -->
  <section class="mb-8">
    <h2 class="text-lg font-semibold mb-3">我的内容</h2>
    <div class="bg-slate-800/60 rounded-xl p-4 text-sm text-slate-400 space-y-2">
      <p>你可以在「我的主页」中查看自己的所有帖子：</p>
      <p>
        <a href="/user/{{ username }}" class="text-sky-400 hover:underline">
          打开 {{ username }} 的主页 →
        </a>
      </p>
      <p>
        <a href="/user/{{ username }}/comments" class="text-sky-400 hover:underline">
          查看我的评论列表 →
        </a>
      </p>
      <p>
        <a href="/user/{{ username }}/likes" class="text-sky-400 hover:underline">
          查看我点赞的帖子 →
        </a>
      </p>
    </div>
  </section>

  <!-- 修改密码 -->
  <section class="mb-8">
    <h2 class="text-lg font-semibold mb-3">修改密码</h2>
    <form method="post" action="/settings/password"
          class="bg-slate-800/80 rounded-xl p-4 space-y-3 text-sm">
      <div>
        <label class="block mb-1 text-slate-300">旧密码</label>
        <input type="password" name="old_password" required
               class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
      </div>
      <div>
        <label class="block mb-1 text-slate-300">新密码</label>
        <input type="password" name="new_password" required minlength="6"
               class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
      </div>
      <div>
        <label class="block mb-1 text-slate-300">重复新密码</label>
        <input type="password" name="new_password2" required
               class="w-full px-3 py-2 rounded bg-slate-900 border border-slate-600 focus:outline-none focus:ring-2 focus:ring-emerald-500">
      </div>
      <button class="px-4 py-2 bg-emerald-500 rounded text-sm font-semibold">
        保存新密码
      </button>
    </form>
  </section>

  <!-- 危险操作 -->
  <div class="mt-8 pt-6 border-t border-slate-700">
    <h2 class="text-lg font-bold text-red-500 mb-4">⚠️ 危险操作</h2>
    <div class="bg-red-500/10 border border-red-500/30 rounded-xl p-4">
      <div class="flex justify-between items-center">
        <div>
          <div class="font-medium">删除账号</div>
          <div class="text-sm text-slate-400">永久删除你的账号和所有数据</div>
        </div>
        <a href="/settings/delete_account" class="px-4 py-2 rounded bg-red-500 hover:bg-red-600 text-sm">
          删除账号
        </a>
      </div>
    </div>
  </div>

</div>
</body>
</html>